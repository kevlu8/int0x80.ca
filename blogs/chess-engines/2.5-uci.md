---
title: 2.5 - UCI Protocol
slug: uci
description: "The infamous Universal Chess Interface (UCI) protocol"
date: 2025-07-27
---

# UCI Protocol
### 2025-07-27

The UCI protocol is one of two major protocols used in chess engines, the other being the winboard format. UCI is by far more widely used and supported, so I'll be covering how it works and how to implement it!

## The Essentials

To have a UCI-compliant engine, you only need to implement the following commands:
- `uci`: The engine should respond with its name and version. Also, switch from console mode to UCI mode if applicable.

```
>>> uci
id name PZChessBot v3.0
id author kevlu8 and wdotmathree
option name Hash type spin default 16 min 1 max 1024
option name Threads type spin default 1 min 1 max 1
uciok
```

- `isready`: The engine should respond with `readyok` when it is ready to receive commands.

```
>>> isready
readyok
```

The purpose of this command is to determine if the engine is hanging.

- `ucinewgame`: The engine should reset its internal state and prepare for a new game. No output for this command.

```
>>> ucinewgame
```

- `position`: The engine should set up the position based on the given FEN string or moves. It can also handle the `startpos` command to set up the initial position.

```
>>> position startpos moves e2e4 e7e5 g1f3 b8c6
```

or

```
>>> position fen rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1 moves e2e4
```

You **do not have to** reset internal states when receiving this command!

- `quit`: Just exit the engine. No output for this command.

```
>>> quit
```

- `go`: The engine should start searching for the best move. It can handle various parameters like `depth`, `wtime/btime`, `infinite`, etc. This is by far the most tricky command, because there are a number of smaller outputs that the engine should produce.

```
>>> go depth 10
info string Using nnue.bin for evaluation
info depth 1 seldepth 1 score cp 50 nodes 23 nps 338235 pv e2e4 hashfull 0 time 0
info depth 2 seldepth 4 score cp 48 nodes 81 nps 496933 pv e2e4 c7c5 hashfull 0 time 0
info depth 3 seldepth 5 score cp 36 nodes 273 nps 886364 pv e2e4 c7c5 g1f3 hashfull 0 time 0
info depth 4 seldepth 6 score cp 51 nodes 589 nps 1100935 pv e2e4 c7c5 g1f3 b8c6 hashfull 0 time 0
info depth 5 seldepth 9 score cp 42 nodes 1132 nps 1222462 pv e2e4 c7c5 g1f3 b8c6 d2d4 hashfull 0 time 0
info depth 6 seldepth 11 score cp 42 nodes 2891 nps 1354733 pv e2e4 c7c5 g1f3 b8c6 d2d4 c5d4 hashfull 0 time 2
info depth 7 seldepth 14 score cp 48 nodes 10209 nps 1476997 pv d2d4 g8f6 g1f3 e7e6 c2c4 f8b4 b1d2 c7c5 hashfull 0 time 6
info depth 8 seldepth 15 score cp 46 nodes 22186 nps 1423914 pv d2d4 g8f6 g1f3 e7e6 c2c4 f8b4 b1d2 c7c5 a2a3 hashfull 1 time 15
info depth 9 seldepth 22 score cp 49 nodes 40795 nps 1400206 pv d2d4 d7d5 c2c4 d5c4 g1f3 g8f6 e2e3 c7c5 f1c4 hashfull 2 time 29
info depth 10 seldepth 22 score cp 49 nodes 82196 nps 1213207 pv e2e4 e7e5 g1f3 b8c6 f1b5 f8c5 c2c3 a7a6 b5a4 g8f6 hashfull 5 time 67
bestmove e2e4
```

Let's break this down line-by-line.

```
info string Using nnue.bin for evaluation
```

This is an optional info line. To print these info lines, simply write `info string <message>`.

```
info depth 1 seldepth 1 score cp 50 nodes 23 nps 338235 pv e2e4 hashfull 0 time 0
```

These lines communicate the current state of the search. A lot of these fields are optional, but let's cover each one:
- `depth`: The current search depth.
- `seldepth`: The maximum search depth reached so far (including extensions, quiescence search, etc.). (optional)
- `score`: The score of the position. This can be in centipawns (cp) or mate (mate in N full moves).
- `nodes`: The number of nodes searched so far.
- `nps`: The number of nodes searched per second. (optional)
- `pv`: The principal variation (the best move sequence found so far). Can literally just be a single move if you don't support full PVs.
- `hashfull`: The permillage of the hash table used so far. (optional)
- `time`: The time spent searching so far, in milliseconds. (optional)

```
bestmove e2e4
```

Uhhh... I think this one is self-explanatory.

## Other Commands

- `eval`: Many engines support this command to return the evaluation of the current position. It can be useful for debugging or analysis.

```
>>> eval
KQkq - white
r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
P P P P P P P P
R N B Q K B N R
info string fen rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq
info string eval 0: 63
info string eval 1: 89
info string eval 2: 64
info string eval 3: 78
info string eval 4: 70
info string eval 5: 66
info string eval 6: 58
info string eval 7: 41 (current)
```

This is how my engine outputs the evaluation, but each engine is different! This command isn't official, but it's very helpful.

- `stop`: This command tells the engine to stop searching immediately. It should respond with the best move found so far.

```
>>> stop
bestmove e2e4
```

- `setoption`: This command allows the user to set various options for the engine, such as hash size, threads, etc. The format is `setoption name <option_name> value <value>`. No output for this command.

```
>>> setoption name Hash value 64
```

